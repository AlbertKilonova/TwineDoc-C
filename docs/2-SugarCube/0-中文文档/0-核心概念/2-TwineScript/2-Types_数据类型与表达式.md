---
title: 数据类型与表达式
description: 支持的数据类型与代码执行单位
---

<div v-pre>

# 数据类型与表达式

### 支持的类型

SugarCube 原生支持绝大多数 JavaScript 的数据类型，你可以放心地把它们塞进变量里：

* **基础类型**：布尔值 (`true`/`false`)、数字 (`42`)、字符串 (`"披萨"`)、`null`、`undefined`。
* **对象类型**：数组 (`Array`)、日期 (`Date`)、映射 (`Map`)、集合 (`Set`) 以及通用对象。

> **核心警告：存档禁区**
> 虽然变量很强大，但有些东西是**不能**存进故事变量的（因为存档系统处理不了）：
> 1. **循环引用**：对象 A 引用 B，B 又引用 A（它们会绕晕的）。
> 2. **函数**：存进去后在读档时会失效，建议只存数据，逻辑交给宏或脚本。

### 表达式 (Expressions)

表达式就是一段能算出“结果”的代码。
* `2 + 2` 得到 `4`。
* `"2" + "2"` 得到 `"22"`（哇，这真的很 JavaScript）。
* `$a = 5` 会得到 `5`，并且会产生一个**副作用**：把 5 赋值给 `$a`。

</div>